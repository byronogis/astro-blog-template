---
import BaseLayout from '~/layouts/Base.astro'
import BaseHead from '~/components/BaseHead.astro'
import SiteSide from '~/components/SiteSide.astro'
import ControlSide from '~/components/ControlSide.astro'
import Footer from '~/components/Footer.astro'
import SiteSearch from '~/components/SiteSearch.astro'

---

<BaseLayout>
  <slot name="head" slot="head">
    <BaseHead />
  </slot>

  <div class="relative max-w-1440px m-auto min-h-100dvh flex flex-row layout_default">
    <div class="fixed left-0 lg:(w-20% bg-secondary h-full) xl:(w-[calc((100vw-1440px)/2+1440px*0.2)])"></div>
    <SiteSide class="flex-none" />
    <main class="flex-1 w-0 p-4 md:p-8 pb-16">
      <slot />

      <SiteSearch />
      <Footer />
    </main>
    <ControlSide class="flex-none" />
  </div>
</BaseLayout>
